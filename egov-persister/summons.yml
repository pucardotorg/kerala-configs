serviceMaps:
  serviceName: SummonsService
  mappings:
    - version: 1.0
      description: Persists summons
      fromTopic: insert-summons
      isTransaction: true
      isAuditEnabled: true
      queryMaps:
        - query: INSERT INTO summons (summons_id, order_id, tenant_id, order_type, channel_name, is_accepted_by_channel, request_date, status_of_delivery, additional_fields, created_by, last_modified_by, created_time, last_modified_time, row_version) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
          basePath: c.*
          jsonMaps:
            - jsonPath: $.Summons.*.summonsId

            - jsonPath: $.Summons.*.orderId

            - jsonPath: $.Summons.*.tenantId

            - jsonPath: $.Summons.*.orderType

            - jsonPath: $.Summons.*.channelName

            - jsonPath: $.Summons.*.isAcceptedByChannel

            - jsonPath: $.Summons.*.requestDate

            - jsonPath: $.Summons.*.statusOfDelivery

            - jsonPath: $.Summons.*.additionalFields

            - jsonPath: $.Summons.*.auditDetails.createdBy

            - jsonPath: $.Summons.*.auditDetails.createdTime

            - jsonPath: $.Summons.*.auditDetails.lastModifiedBy

            - jsonPath: $.Summons.*.auditDetails.lastModifiedTime

            - jsonPath: $.Summons.*.rowVersion

    - version: 1.0
      description: Updates Summons
      fromTopic: update-summons
      isTransaction: true
      isAuditEnabled: true
      queryMaps:
        - query: UPDATE summons SET is_accepted_by_channel = ?, status_of_delivery = ?, additional_fields = ?, last_modified_by = ?, last_modified_time = ?, row_version = ? WHERE summons_id = ?;
          basePath: Summons.*
          jsonMaps:
            - jsonPath: $.Summons.*.isAcceptedByChannel

            - jsonPath: $.Summons.*.statusOfDelivery

            - jsonPath: $.Summons.*.additionalFields

            - jsonPath: $.Summons.*.auditDetails.lastModifiedBy

            - jsonPath: $.Summons.*.auditDetails.lastModifiedTime

            - jsonPath: $.Summons.*.rowVersion

            - jsonPath: $.Summons.*.submissionId