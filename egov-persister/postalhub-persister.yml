serviceMaps:
  serviceName: payment-calculator
  mappings:
    - version: 1.0
      description: Persists Postal details in tables
      fromTopic: postal-hub-create
      isTransaction: true
      queryMaps:
      - query: INSERT INTO postal_hub(hub_id, name, pincode, classification, created_by, last_modified_by, created_time, last_modified_time, row_version, tenant_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?);
        basePath: $.*
        jsonMaps:
          - jsonPath: $.*.hubId

          - jsonPath: $.*.name

          - jsonPath: $.*.pincode

          - jsonPath: $.*.classification

          - jsonPath: $.*.auditDetails.createdBy

          - jsonPath: $.*.auditDetails.lastModifiedBy

          - jsonPath: $.*.auditDetails.createdTime

          - jsonPath: $.*.auditDetails.lastModifiedTime

          - jsonPath: $.*.rowVersion

          - jsonPath: $.*.tenantId

    - version: 1.0
      description: Update postal details in table
      fromTopic: postal-hub-update
      isTransaction: true
      queryMaps:
        - query: UPDATE postal_hub SET name =?, pincode =?,created_by =?, last_modified_by =?, created_time =?, last_modified_time =?, row_version =?, tenant_id =? WHERE hub_id=?;
          basePath: $.*
          jsonMaps:
                - jsonPath: $.*.name

                - jsonPath: $.*.pincode

                - jsonPath: $.*.auditDetails.createdBy

                - jsonPath: $.*.auditDetails.lastModifiedBy

                - jsonPath: $.*.auditDetails.createdTime

                - jsonPath: $.*.auditDetails.lastModifiedTime

                - jsonPath: $.*.rowVersion

                - jsonPath: $.*.tenantId

                - jsonPath: $.*.hubId

