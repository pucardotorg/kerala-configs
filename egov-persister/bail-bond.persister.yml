serviceMaps:
  serviceName: Bail Bond
  mappings:
    - version: 1.0
      description: Persists bail bond details in tables
      fromTopic: save-bail-application
      isTransaction: true
      isAuditEnabled: true
      module: BAIL BOND
      objectIdjsonPath: $.id
      tenantIdjsonPath: $.tenantId
      transactionCodejsonPath: $.caseId
      auditAttributeBasePath: bail
      queryMaps:
        - query: INSERT INTO dristi_bail(id,tenant_id,case_id,bail_type,bail_amount,bail_status,court_id,case_title,case_number,cnr_number,filing_number,case_type,litigant_id,litigant_name,litigant_father_name,litigant_signed,litigant_mobile_number,shortened_url,bail_id,additional_details,is_active,created_by,last_modified_by,created_time,last_modified_time) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);
          basePath: bail
          jsonMaps:
            - jsonPath: $.bail.id
            - jsonPath: $.bail.tenantId
            - jsonPath: $.bail.caseId
            - jsonPath: $.bail.bailType
            - jsonPath: $.bail.bailAmount
            - jsonPath: $.bail.status
            - jsonPath: $.bail.courtId
            - jsonPath: $.bail.caseTitle
            - jsonPath: $.bail.caseNumber
            - jsonPath: $.bail.cnrNumber
            - jsonPath: $.bail.filingNumber
            - jsonPath: $.bail.caseType
            - jsonPath: $.bail.litigantId
            - jsonPath: $.bail.litigantName
            - jsonPath: $.bail.litigantFatherName
            - jsonPath: $.bail.litigantSigned
            - jsonPath: $.bail.litigantMobileNumber
            - jsonPath: $.bail.shortenedURL
            - jsonPath: $.bail.bailId
            - jsonPath: $.bail.additionalDetails
              type: JSON
              dbType: JSONB
            - jsonPath: $.bail.isActive
            - jsonPath: $.bail.auditDetails.createdBy
            - jsonPath: $.bail.auditDetails.lastModifiedBy
            - jsonPath: $.bail.auditDetails.createdTime
            - jsonPath: $.bail.auditDetails.lastModifiedTime

        - query: INSERT INTO dristi_surety (id,tenant_id,bail_id,case_id,surety_name,surety_father_name,surety_signed,surety_mobile_number,surety_email,surety_approved,surety_address,additional_details,is_active,created_by,last_modified_by,created_time,last_modified_time) VALUES (?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?);
          basePath: bail.sureties.*
          jsonMaps:
            - jsonPath: $.bail.sureties.*.id
            - jsonPath: $.bail.sureties.*.tenantId
            - jsonPath: $.bail.bailId
            - jsonPath: $.bail.caseId
            - jsonPath: $.bail.sureties.*.name
            - jsonPath: $.bail.sureties.*.fatherName
            - jsonPath: $.bail.sureties.*.hasSigned
            - jsonPath: $.bail.sureties.*.mobileNumber
            - jsonPath: $.bail.sureties.*.email
            - jsonPath: $.bail.sureties.*.isApproved
            - jsonPath: $.bail.sureties.*.address
              type: JSON
              dbType: JSONB
            - jsonPath: $.bail.sureties.*.additionalDetails
              type: JSON
              dbType: JSONB
            - jsonPath: $.bail.sureties.*.isActive
            - jsonPath: $.bail.auditDetails.createdBy
            - jsonPath: $.bail.auditDetails.lastModifiedBy
            - jsonPath: $.bail.auditDetails.createdTime
            - jsonPath: $.bail.auditDetails.lastModifiedTime



        - query: INSERT INTO dristi_bail_document(id,filestore_id,document_uid,document_type,additional_details,created_by,last_modified_by,created_time,last_modified_time) VALUES (?,?,?,?,?,?,?,?,?);
          basePath: bail.documents.*
          jsonMaps:
            - jsonPath: $.bail.documents.*.id
            - jsonPath: $.bail.documents.*.fileStore
            - jsonPath: $.bail.documents.*.documentUid
            - jsonPath: $.bail.documents.*.documentType
            - jsonPath: $.bail.documents.*.additionalDetails
              type: JSON
              dbType: JSONB
            - jsonPath: $.bail.auditDetails.createdBy
            - jsonPath: $.bail.auditDetails.lastModifiedBy
            - jsonPath: $.bail.auditDetails.createdTime
            - jsonPath: $.bail.auditDetails.lastModifiedTime

        - query: INSERT INTO dristi_surety_document(id,filestore_id,document_uid,document_type,additional_details,created_by,last_modified_by,created_time,last_modified_time) VALUES (?,?,?,?,?,?,?,?,?);
          basePath: bail.sureties.*.documents.*
          jsonMaps:
            - jsonPath: $.bail.documents.*.id
            - jsonPath: $.bail.documents.*.fileStore
            - jsonPath: $.bail.documents.*.documentUid
            - jsonPath: $.bail.documents.*.documentType
            - jsonPath: $.bail.documents.*.additionalDetails
              type: JSON
              dbType: JSONB
            - jsonPath: $.bail.auditDetails.createdBy
            - jsonPath: $.bail.auditDetails.lastModifiedBy
            - jsonPath: $.bail.auditDetails.createdTime
            - jsonPath: $.bail.auditDetails.lastModifiedTime

    - version: 1.0
      description: Persists bail bond details in tables
      fromTopic: update-bail-application
      isTransaction: true
      isAuditEnabled: true
      module: BAIL BOND
      objectIdjsonPath: $.id
      tenantIdjsonPath: $.tenantId
      transactionCodejsonPath: $.caseId
      auditAttributeBasePath: bail
      queryMaps:
        - query: UPDATE dristi_bail SET tenant_id=?,case_id=?,bail_type=?,bail_amount=?,bail_status=?,court_id=?,case_title=?,case_number=?,cnr_number=?,filing_number=?,case_type=?,litigant_id=?,litigant_name=?,litigant_father_name=?,litigant_signed=?,litigant_mobile_number=?,shortened_url=?,bail_id=?,additional_details=?,is_active=?,created_by=?,last_modified_by=?,created_time=?,last_modified_time=? WHERE id=?;
          basePath: bail
          jsonMaps:
            - jsonPath: $.bail.tenantId
            - jsonPath: $.bail.caseId
            - jsonPath: $.bail.bailType
            - jsonPath: $.bail.bailAmount
            - jsonPath: $.bail.status
            - jsonPath: $.bail.courtId
            - jsonPath: $.bail.caseTitle
            - jsonPath: $.bail.caseNumber
            - jsonPath: $.bail.cnrNumber
            - jsonPath: $.bail.filingNumber
            - jsonPath: $.bail.caseType
            - jsonPath: $.bail.litigantId
            - jsonPath: $.bail.litigantName
            - jsonPath: $.bail.litigantFatherName
            - jsonPath: $.bail.litigantSigned
            - jsonPath: $.bail.litigantMobileNumber
            - jsonPath: $.bail.shortenedURL
            - jsonPath: $.bail.bailId
            - jsonPath: $.bail.additionalDetails
              type: JSON
              dbType: JSONB
            - jsonPath: $.bail.isActive
            - jsonPath: $.bail.auditDetails.createdBy
            - jsonPath: $.bail.auditDetails.lastModifiedBy
            - jsonPath: $.bail.auditDetails.createdTime
            - jsonPath: $.bail.auditDetails.lastModifiedTime
            - jsonPath: $.bail.id

        - query: UPDATE dristi_surety SET tenant_id=?,bail_id=?,case_id=?,surety_name=?,surety_father_name=?,surety_signed=?,surety_mobile_number=?,surety_email=?,surety_approved=?,surety_address=?,additional_details=?,is_active=?,created_by=?,last_modified_by=?,created_time=?,last_modified_time=? WHERE id=? ;
          basePath: bail.sureties.*
          jsonMaps:
            - jsonPath: $.bail.sureties.*.tenantId
            - jsonPath: $.bail.bailId
            - jsonPath: $.bail.caseId
            - jsonPath: $.bail.sureties.*.name
            - jsonPath: $.bail.sureties.*.fatherName
            - jsonPath: $.bail.sureties.*.hasSigned
            - jsonPath: $.bail.sureties.*.mobileNumber
            - jsonPath: $.bail.sureties.*.email
            - jsonPath: $.bail.sureties.*.isApproved
            - jsonPath: $.bail.sureties.*.address
              type: JSON
              dbType: JSONB
            - jsonPath: $.bail.sureties.*.additionalDetails
              type: JSON
              dbType: JSONB
            - jsonPath: $.bail.sureties.*.isActive
            - jsonPath: $.bail.auditDetails.createdBy
            - jsonPath: $.bail.auditDetails.lastModifiedBy
            - jsonPath: $.bail.auditDetails.createdTime
            - jsonPath: $.bail.auditDetails.lastModifiedTime
            - jsonPath: $.bail.sureties.*.id



        - query: UPDATE dristi_bail_document SET filestore_id=?,document_uid=?,document_type=?,additional_details=?,created_by=?,last_modified_by=?,created_time=?,last_modified_time=? WHERE id=?;
          basePath: bail.documents.*
          jsonMaps:
            - jsonPath: $.bail.documents.*.fileStore
            - jsonPath: $.bail.documents.*.documentUid
            - jsonPath: $.bail.documents.*.documentType
            - jsonPath: $.bail.documents.*.additionalDetails
              type: JSON
              dbType: JSONB
            - jsonPath: $.bail.auditDetails.createdBy
            - jsonPath: $.bail.auditDetails.lastModifiedBy
            - jsonPath: $.bail.auditDetails.createdTime
            - jsonPath: $.bail.auditDetails.lastModifiedTime
            - jsonPath: $.bail.documents.*.id

        - query: UPDATE dristi_surety_document SET filestore_id=?,document_uid=?,document_type=?,additional_details=?,created_by=?,last_modified_by=?,created_time=?,last_modified_time=? WHERE id=?;
          basePath: bail.sureties.*.documents.*
          jsonMaps:
            - jsonPath: $.bail.documents.*.fileStore
            - jsonPath: $.bail.documents.*.documentUid
            - jsonPath: $.bail.documents.*.documentType
            - jsonPath: $.bail.documents.*.additionalDetails
              type: JSON
              dbType: JSONB
            - jsonPath: $.bail.auditDetails.createdBy
            - jsonPath: $.bail.auditDetails.lastModifiedBy
            - jsonPath: $.bail.auditDetails.createdTime
            - jsonPath: $.bail.auditDetails.lastModifiedTime
            - jsonPath: $.bail.documents.*.id
